---
layout: layouts/base.njk
title: V√≠deos - Silk Machine
permalink: /videos/index.html
---
<div class="videos-page">
    <div class="main-featured-video-section">
        <div class="container">
            {% set mainFeaturedVideo = collections.videos | where("data.featured", true) | first %}
            {% if mainFeaturedVideo %}
                <div class="main-video-player">
                    {% if mainFeaturedVideo.data.platform == "youtube" %}
                        {# Usar video_id diretamente do front matter, se existir #}
                        {% set mainVideoId = mainFeaturedVideo.data.video_id %} 
                        {% if not mainVideoId %}
                            {# Fallback: tentar extrair do video_url se video_id n√£o existir #}
                            {% set mainVideoId = mainFeaturedVideo.data.video_url | extractYouTubeId %} {# Usando o filtro Eleventy #}
                        {% endif %}

                        <img src="https://img.youtube.com/vi/{{ mainVideoId }}/maxresdefault.jpg" 
                             alt="{{ mainFeaturedVideo.data.title }}" 
                             onerror="this.onerror=null; this.src='https://img.youtube.com/vi/{{ mainVideoId }}/hqdefault.jpg';"> 
                    {% endif %}
                </div>
                <div class="main-video-info">
                    <h1 class="main-video-title">{{ mainFeaturedVideo.data.title }}</h1>
                    <p class="main-video-description">{{ mainFeaturedVideo.data.description }}</p>
                    <div class="main-video-meta">
                        <span class="main-video-category">{{ mainFeaturedVideo.data.category | getCategoryName }}</span> {# Usando o novo filtro #}
                        <span class="main-video-date">{{ mainFeaturedVideo.data.date | luxonDate("dd/MM/yyyy") }}</span> {# Usando o novo filtro #}
                    </div>
                    <div class="main-video-tags">
                        {% for tag in mainFeaturedVideo.data.tags %}
                            <span class="tag">#{{ tag }}</span>
                        {% endfor %}
                    </div>
                    <button class="watch-btn main-watch-btn" data-video-url="{{ mainFeaturedVideo.data.video_url }}" data-video-title="{{ mainFeaturedVideo.data.title }}">
                        Assistir Agora
                    </button>
                </div>
            {% else %}
                <h1 class="videos-title">Central de V√≠deos</h1>
                <p class="videos-subtitle">Descubra todo o potencial da K3-350 atrav√©s dos nossos v√≠deos</p>
            {% endif %}

            <div class="videos-controls">
                <div class="search-box">
                    <input type="text" id="video-search" placeholder="Buscar v√≠deos..." />
                    <i class="search-icon">üîç</i>
                </div>
                <div class="category-filters">
                    <button class="filter-btn active" data-category="all">Todos</button>
                    <button class="filter-btn" data-category="demonstracoes">Demonstra√ß√µes</button>
                    <button class="filter-btn" data-category="depoimentos">Depoimentos</button>
                    <button class="filter-btn" data-category="treinamentos">Treinamentos</button>
                    <button class="filter-btn" data-category="dicas-negocio">Dicas de Neg√≥cio</button>
                    <button class="filter-btn" data-category="tutoriais">Tutoriais</button>
                    <button class="filter-btn" data-category="novidades">Novidades</button>
                </div>
            </div>
        </div>
    </div>

    <section class="featured-videos">
        <div class="container">
            <h2 class="section-title">Outros V√≠deos em Destaque</h2>
            <div class="videos-carousel featured-carousel-secondary">
                {# Certifique-se de que additionalFeaturedVideos est√° retornando algo #}
                {% set allFeaturedVideos = collections.videos | where("data.featured", true) | reverse %}
                {% set additionalFeaturedVideos = allFeaturedVideos | slice(1, allFeaturedVideos.length) %}
                {% for video in additionalFeaturedVideos %}
                    <div class="video-card featured-video-card-small" data-category="{{ video.data.category }}" data-title="{{ video.data.title | lower }}" data-description="{{ video.data.description | lower }}" data-tags="{{ video.data.tags | join(',') | lower }}">
                        <div class="video-thumbnail">
                            {% if video.data.custom_thumbnail %}
                                <img src="{{ video.data.custom_thumbnail }}" 
                                     alt="{{ video.data.title }}" 
                                     loading="lazy">
                            {% elif video.data.platform == "youtube" %}
                                {# Usar video_id diretamente do front matter, se existir #}
                                {% set videoId = video.data.video_id %} 
                                {% if not videoId %}
                                    {# Fallback: tentar extrair do video_url se video_id n√£o existir #}
                                    {% set videoId = video.data.video_url | extractYouTubeId %}
                                {% endif %}
                                <img src="https://img.youtube.com/vi/{{ videoId }}/maxresdefault.jpg" 
                                     alt="{{ video.data.title }}" 
                                     loading="lazy"
                                     onerror="this.onerror=null; this.src='https://img.youtube.com/vi/{{ videoId }}/hqdefault.jpg';">
                            {% elif video.data.video_url.includes("tiktok.com") %}
                                <div class="tiktok-thumbnail">
                                    <div class="tiktok-icon">üéµ</div>
                                    <span>TikTok</span>
                                </div>
                            {% elif video.data.video_url.includes("instagram.com") %}
                                <div class="instagram-thumbnail">
                                    <div class="instagram-icon">üì∏</div>
                                    <span>Instagram</span>
                                </div>
                            {% else %}
                                <div class="generic-thumbnail">
                                    <div class="generic-icon">üé¨</div>
                                    <span>V√≠deo</span>
                                </div>
                            {% endif %}
                            <div class="play-overlay">
                                <div class="play-button">‚ñ∂</div>
                            </div>
                            <div class="video-duration">
                                {% if video.data.duration %}
                                    {{ (video.data.duration / 60) | round }}:{{ (video.data.duration % 60) | string | padStart(2, "0") }}
                                {% endif %}
                            </div>
                        </div>
                        <div class="video-info">
                            <h3 class="video-title">{{ video.data.title }}</h3>
                            <p class="video-description">{{ video.data.description | truncate(100) }}</p>
                            <div class="video-meta">
                                <span class="video-category">{{ video.data.category | getCategoryName }}</span>
                                <span class="video-date">{{ video.data.date | luxonDate("dd/MM/yyyy") }}</span>
                            </div>
                            <div class="video-tags">
                                {% for tag in video.data.tags %}
                                    <span class="tag">#{{ tag }}</span>
                                {% endfor %}
                            </div>
                            <button class="watch-btn" data-video-url="{{ video.data.video_url }}" data-video-title="{{ video.data.title }}">
                                Assistir V√≠deo
                            </button>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <section class="category-sections">
        <div class="container">
            
            <div class="category-section" data-category="demonstracoes">
                <h2 class="section-title">
                    <span class="category-icon">üé¨</span>
                    Demonstra√ß√µes
                </h2>
                <div class="videos-carousel">
                    {% set demonstracoes = collections.videos | where("data.category", "demonstracoes") | reverse %}
                    {% for video in demonstracoes %}
                        {% include "partials/video-card.njk" %}
                    {% endfor %}
                </div>
            </div>

            <div class="category-section" data-category="depoimentos">
                <h2 class="section-title">
                    <span class="category-icon">üí¨</span>
                    Depoimentos
                </h2>
                <div class="videos-carousel">
                    {% set depoimentos = collections.videos | where("data.category", "depoimentos") | reverse %}
                    {% for video in depoimentos %}
                        {% include "partials/video-card.njk" %}
                    {% endfor %}
                </div>
            </div>

            <div class="category-section" data-category="treinamentos">
                <h2 class="section-title">
                    <span class="category-icon">üéì</span>
                    Treinamentos
                </h2>
                <div class="videos-carousel">
                    {% set treinamentos = collections.videos | where("data.category", "treinamentos") | reverse %}
                    {% for video in treinamentos %}
                        {% include "partials/video-card.njk" %}
                    {% endfor %}
                </div>
            </div>

            <div class="category-section" data-category="dicas-negocio">
                <h2 class="section-title">
                    <span class="category-icon">üí°</span>
                    Dicas de Neg√≥cio
                </h2>
                <div class="videos-carousel">
                    {% set dicasNegocio = collections.videos | where("data.category", "dicas-negocio") | reverse %}
                    {% for video in dicasNegocio %}
                        {% include "partials/video-card.njk" %}
                    {% endfor %}
                </div>
            </div>

        </div>
    </section>

    <div id="video-modal" class="video-modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title"></h3>
                <button class="modal-close">√ó</button>
            </div>
            <div class="modal-body">
                <div id="video-player"></div>
            </div>
        </div>
    </div>

    <section class="social-links">
        <div class="container">
            <h2 class="section-title">Siga-nos nas Redes Sociais</h2>
            <div class="social-grid">
                <a href="https://www.youtube.com/@silkmachine" target="_blank" class="social-card youtube">
                    <div class="social-icon">üì∫</div>
                    <h3>YouTube</h3>
                    <p>V√≠deos completos e tutoriais detalhados</p>
                </a>
                <a href="https://www.instagram.com/silkmachine/" target="_blank" class="social-card instagram">
                    <div class="social-icon">üì∏</div>
                    <h3>Instagram</h3>
                    <p>Fotos e v√≠deos do dia a dia</p>
                </a>
                <a href="https://www.tiktok.com/@silkmachine" target="_blank" class="social-card tiktok">
                    <div class="social-icon">üéµ</div>
                    <h3>TikTok</h3>
                    <p>V√≠deos r√°pidos e criativos</p>
                </a>
                <a href="https://www.facebook.com/silkmachine" target="_blank" class="social-card facebook">
                    <div class="social-icon">üë•</div>
                    <h3>Facebook</h3>
                    <p>Comunidade e atualiza√ß√µes</p>
                </a>
            </div>
        </div>
    </section>
</div>