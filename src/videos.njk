---
layout: layouts/base.njk
title: V√≠deos - Silk Machine
permalink: /videos/index.html
---

<div class="videos-page">
    {# IN√çCIO DAS LINHAS DE DEPURACAO - REMOVA DEPOIS DE RESOLVER O PROBLEMA #}
    <div style="background-color: #e3f2fd; padding: 15px; margin-bottom: 20px; border: 1px solid #90caf9; color: #212121;">
        <h2 style="color: #1976d2;">DEBUG DA COLE√á√ÉO DE V√çDEOS:</h2>
        <p><strong>N√∫mero total de v√≠deos na cole√ß√£o `collections.videos`:</strong> {{ collections.videos | length }}</p>

        {% if collections.videos | length > 0 %}
            <h3 style="color: #1976d2;">Detalhes dos V√≠deos Encontrados:</h3>
            <ul style="list-style: none; padding: 0;">
                {% for video in collections.videos %}
                    <li style="border-bottom: 1px dashed #bbdefb; padding: 10px 0; margin-bottom: 10px;">
                        <p><strong>T√≠tulo:</strong> {{ video.data.title }}</p>
                        <p><strong>URL do V√≠deo:</strong> {{ video.data.video_url }}</p>
                        <p><strong>ID do V√≠deo (Front Matter):</strong> {{ video.data.video_id }}</p>
                        <p><strong>Categoria:</strong> {{ video.data.category }}</p>
                        <p><strong>Em Destaque (Featured):</strong> {{ video.data.featured }}</p>
                        <p><strong>Caminho do Arquivo:</strong> {{ video.inputPath }}</p>
                        <p><strong>URL da P√°gina Gerada:</strong> <a href="{{ video.url }}" target="_blank">{{ video.url }}</a></p>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p style="color: #d32f2f; font-weight: bold;">A cole√ß√£o `collections.videos` est√° vazia. Nenhum arquivo Markdown de v√≠deo foi encontrado ou processado.</p>
        {% endif %}

        <h3 style="color: #1976d2;">Teste de Filtro 'Featured':</h3>
        {% set featuredCheck = collections.videos | where("data.featured", true) %}
        <p><strong>N√∫mero de v√≠deos `featured: true`:</strong> {{ collections.videos | filterFeaturedVideos | length }}</p>
        {% if featuredCheck | length > 0 %}
            <p>Primeiro v√≠deo `featured`: {{ featuredCheck[0].data.title }}</p>
        {% else %}
            <p style="color: #d32f2f;">Nenhum v√≠deo marcado como `featured: true` encontrado usando o filtro `where`.</p>
        {% endif %}
    </div>
    {# FIM DAS LINHAS DE DEPURACAO #}

    <div class="videos-header">
        <div class="container">
            <h1 class="videos-title">Central de V√≠deos</h1>
            <p class="videos-subtitle">Descubra todo o potencial da K3-350 atrav√©s dos nossos v√≠deos</p>
            
            <div class="videos-controls">
                <div class="search-box">
                    <input type="text" id="video-search" placeholder="Buscar v√≠deos..." />
                    <i class="search-icon">üîç</i>
                </div>
                
                <div class="category-filters">
                    <button class="filter-btn active" data-category="all">Todos</button>
                    <button class="filter-btn" data-category="demonstracoes">Demonstra√ß√µes</button>
                    <button class="filter-btn" data-category="depoimentos">Depoimentos</button>
                    <button class="filter-btn" data-category="treinamentos">Treinamentos</button>
                    <button class="filter-btn" data-category="dicas-negocio">Dicas de Neg√≥cio</button>
                    <button class="filter-btn" data-category="tutoriais">Tutoriais</button>
                    <button class="filter-btn" data-category="novidades">Novidades</button>
                    <button class="filter-btn" data-category="cursos">Cursos</button>
                </div>
            </div>
        </div>
    </div>

    <div class="main-featured-video-section">
        <div class="container">
            {% set mainFeaturedVideo = collections.videos | filterFeaturedVideos | first %}
            {% if mainFeaturedVideo %}
                <div class="main-video-player">
                    {% if mainFeaturedVideo.data.platform == "youtube" %}
                        {# Usar video_id diretamente do front matter, se existir #}
                        {% set mainVideoId = mainFeaturedVideo.data.video_id %} 
                        {% if not mainVideoId %}\
                            {# Fallback: tentar extrair do video_url se video_id n√£o existir #}
                            {% set mainVideoId = mainFeaturedVideo.data.video_url | extractYouTubeId %} {# Usando o filtro Eleventy #}
                        {% endif %}\

                        <img src="https://img.youtube.com/vi/{{ mainVideoId }}/maxresdefault.jpg" 
                             alt="{{ mainFeaturedVideo.data.title }}" 
                             onerror="this.onerror=null; this.src='https://img.youtube.com/vi/{{ mainVideoId }}/hqdefault.jpg';"> 
                        <button class="play-button" data-video-id="{{ mainVideoId }}" data-video-platform="{{ mainFeaturedVideo.data.platform }}" data-video-title="{{ mainFeaturedVideo.data.title }}" data-video-description="{{ mainFeaturedVideo.data.description | striptags }}">‚ñ∂Ô∏è</button>
                    {% elif mainFeaturedVideo.data.video_url.includes("tiktok.com") %}
                        <div class="tiktok-main-thumbnail">
                            <div class="tiktok-icon">üéµ</div>
                            <span>Assista no TikTok</span>
                        </div>
                         <button class="play-button" data-video-id="{{ mainFeaturedVideo.data.video_url }}" data-video-platform="tiktok" data-video-title="{{ mainFeaturedVideo.data.title }}" data-video-description="{{ mainFeaturedVideo.data.description | striptags }}">‚ñ∂Ô∏è</button>
                    {% elif mainFeaturedVideo.data.video_url.includes("instagram.com") %}
                        <div class="instagram-main-thumbnail">
                            <div class="instagram-icon">üì∏</div>
                            <span>Assista no Instagram</span>
                        </div>
                        <button class="play-button" data-video-id="{{ mainFeaturedVideo.data.video_url }}" data-video-platform="instagram" data-video-title="{{ mainFeaturedVideo.data.title }}" data-video-description="{{ mainFeaturedVideo.data.description | striptags }}">‚ñ∂Ô∏è</button>
                    {% elif mainFeaturedVideo.data.video_url.includes("facebook.com") %}
                        <div class="facebook-main-thumbnail">
                            <div class="facebook-icon">üë•</div>
                            <span>Assista no Facebook</span>
                        </div>
                        <button class="play-button" data-video-id="{{ mainFeaturedVideo.data.video_url }}" data-video-platform="facebook" data-video-title="{{ mainFeaturedVideo.data.title }}" data-video-description="{{ mainFeaturedVideo.data.description | striptags }}">‚ñ∂Ô∏è</button>
                    {% else %}
                        <img src="/images/video-placeholder.jpg" alt="V√≠deo n√£o dispon√≠vel" class="placeholder-thumbnail">
                        <button class="play-button disabled">‚ñ∂Ô∏è</button>
                    {% endif %}
                </div>
                <div class="main-video-info">
                    <h1 class="main-video-title">{{ mainFeaturedVideo.data.title }}</h1>
                    <p class="main-video-description">{{ mainFeaturedVideo.data.description }}</p>
                    <div class="main-video-meta">
                        <span class="main-video-category">
                            {{ mainFeaturedVideo.data.category | getCategoryName }}
                        </span>
                        <span class="main-video-date">{{ mainFeaturedVideo.data.date | luxonDate("dd/MM/yyyy") }}</span>
                        {% if mainFeaturedVideo.data.duration %}
                        <span class="main-video-duration">
                            {% if mainFeaturedVideo.data.duration >= 60 %}
                                {{ (mainFeaturedVideo.data.duration / 60) | round }}:{{ (mainFeaturedVideo.data.duration % 60) | string | padStart(2, "0") }} min
                            {% else %}
                                {{ mainFeaturedVideo.data.duration }}s
                            {% endif %}
                        </span>
                        {% endif %}
                    </div>
                    {% if mainFeaturedVideo.data.tags %}
                    <div class="main-video-tags">
                        {% for tag in mainFeaturedVideo.data.tags | slice(0, 3) %}
                            <span class="tag">#{{ tag }}</span>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
            {% else %}
                {% endif %}
        </div>
    </div>
    
    <section class="videos-carousel-section">
        <div class="container">
            <h2 class="section-title">Outros V√≠deos em Destaque</h2>
            <div class="videos-carousel" id="featured-videos-carousel">
                {% set allFeaturedVideos = collections.videos | where("data.featured", true) %}
                {% set additionalFeaturedVideos = allFeaturedVideos | slice(1, allFeaturedVideos.length) %}
                {% for video in additionalFeaturedVideos %}
                    {% include "partials/video-card.njk" %}
                {% endfor %}
            </div>
            <button class="scroll-left" data-target="featured-videos-carousel">‚Äπ</button>
            <button class="scroll-right" data-target="featured-videos-carousel">‚Ä∫</button>
        </div>
    </section>

    <nav class="video-categories-nav">
        <div class="container">
            <ul class="nav-list">
                <li class="nav-item active" data-category="all">Todos</li>
                <li class="nav-item" data-category="demonstracoes">Demonstra√ß√µes</li>
                <li class="nav-item" data-category="depoimentos">Depoimentos</li>
                <li class="nav-item" data-category="treinamentos">Treinamentos</li>
                <li class="nav-item" data-category="dicas-negocio">Dicas de Neg√≥cio</li>
                <li class="nav-item" data-category="tutoriais">Tutoriais</li>
                <li class="nav-item" data-category="novidades">Novidades</li>
            </ul>
        </div>
    </nav>

    <div class="videos-grid-container container">
        <section class="category-section" data-category="demonstracoes">
            <h3 class="category-title">Demonstra√ß√µes <span class="category-count"></span></h3>
            <div class="videos-grid">
                {% set demonstracoes = collections.videos | where("data.category", "demonstracoes") | reverse %}
                {% for video in demonstracoes %}
                    {% include "partials/video-card.njk" %}
                {% endfor %}
            </div>
        </section>

        <section class="category-section" data-category="depoimentos">
            <h3 class="category-title">Depoimentos <span class="category-count"></span></h3>
            <div class="videos-grid">
                {% set depoimentos = collections.videos | where("data.category", "depoimentos") | reverse %}
                {% for video in depoimentos %}
                    {% include "partials/video-card.njk" %}
                {% endfor %}
            </div>
        </section>

        <section class="category-section" data-category="treinamentos">
            <h3 class="category-title">Treinamentos <span class="category-count"></span></h3>
            <div class="videos-grid">
                {% set treinamentos = collections.videos | where("data.category", "treinamentos") | reverse %}
                {% for video in treinamentos %}
                    {% include "partials/video-card.njk" %}
                {% endfor %}
            </div>
        </section>

        <section class="category-section" data-category="dicas-negocio">
            <h3 class="category-title">Dicas de Neg√≥cio <span class="category-count"></span></h3>
            <div class="videos-grid">
                {% set dicasNegocio = collections.videos | where("data.category", "dicas-negocio") | reverse %}
                {% for video in dicasNegocio %}
                    {% include "partials/video-card.njk" %}
                {% endfor %}
            </div>
        </section>

        <section class="category-section" data-category="tutoriais">
            <h3 class="category-title">Tutoriais <span class="category-count"></span></h3>
            <div class="videos-grid">
                {% set tutoriais = collections.videos | where("data.category", "tutoriais") | reverse %}
                {% for video in tutoriais %}
                    {% include "partials/video-card.njk" %}
                {% endfor %}
            </div>
        </section>

        <section class="category-section" data-category="novidades">
            <h3 class="category-title">Novidades <span class="category-count"></span></h3>
            <div class="videos-grid">
                {% set novidades = collections.videos | where("data.category", "novidades") | reverse %}
                {% for video in novidades %}
                    {% include "partials/video-card.njk" %}
                {% endfor %}
            </div>
        </section>
    </div>

    <div id="video-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h3 id="modal-video-title"></h3>
            <p id="modal-video-description"></p>
            <div class="modal-body">
                <div id="video-player"></div>
            </div>
        </div>
    </div>

    <section class="social-links">
        <div class="container">
            <h2 class="section-title">Siga-nos nas Redes Sociais</h2>
            <div class="social-grid">
                <a href="https://www.youtube.com/@silkmachine" target="_blank" class="social-card youtube">
                    <div class="social-icon">üì∫</div>
                    <h3>YouTube</h3>
                    <p>V√≠deos completos e tutoriais detalhados</p>
                </a>
                <a href="https://www.instagram.com/silkmachine/" target="_blank" class="social-card instagram">
                    <div class="social-icon">üì∏</div>
                    <h3>Instagram</h3>
                    <p>Fotos e v√≠deos do dia a dia</p>
                </a>
                <a href="https://www.tiktok.com/@silkmachine" target="_blank" class="social-card tiktok">
                    <div class="social-icon">üéµ</div>
                    <h3>TikTok</h3>
                    <p>V√≠deos r√°pidos e criativos</p>
                </a>
                <a href="https://www.facebook.com/silkmachine" target="_blank" class="social-card facebook">
                    <div class="social-icon">üë•</div>
                    <h3>Facebook</h3>
                    <p>Comunidade e atualiza√ß√µes</p>
                </a>
            </div>
        </div>
    </section>
</div>